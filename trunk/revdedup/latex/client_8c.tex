\hypertarget{client_8c}{\section{client.\-c \-File \-Reference}
\label{client_8c}\index{client.\-c@{client.\-c}}
}


\-Program that uploads images to server through network.  


{\ttfamily \#include $<$revdedup.\-h$>$}\*
{\ttfamily \#include $<$queue.\-h$>$}\*
{\ttfamily \#include $<$curl/curl.\-h$>$}\*
\subsection*{\-Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structRespBuffer}{\-Resp\-Buffer}
\end{DoxyCompactItemize}
\subsection*{\-Functions}
\begin{DoxyCompactItemize}
\item 
static size\-\_\-t \hyperlink{client_8c_a7e5ded8767e8201215c82a48b02f6c6c}{write\-Fn} (void $\ast$ptr, size\-\_\-t size, size\-\_\-t nmemb, void $\ast$userdata)
\item 
static int \hyperlink{client_8c_a0745b6b9d5e344cacb735b7e9f09fb43}{post} (char $\ast$path, void $\ast$data, size\-\_\-t size, void $\ast$resp)
\item 
void $\ast$ \hyperlink{client_8c_a83c6ee766873ef92fb8324e6dfc1e398}{process\-Segments} (void $\ast$ptr)
\item 
int \hyperlink{client_8c_a0ddf1224851353fc92bfbff6f499fa97}{main} (int argc, char $\ast$argv\mbox{[}$\,$\mbox{]})
\end{DoxyCompactItemize}


\subsection{\-Detailed \-Description}
\-Program that uploads images to server through network. \begin{DoxyAuthor}{\-Author}
\-Ng \-Chun \-Ho 
\end{DoxyAuthor}


\subsection{\-Function \-Documentation}
\hypertarget{client_8c_a0ddf1224851353fc92bfbff6f499fa97}{\index{client.\-c@{client.\-c}!main@{main}}
\index{main@{main}!client.c@{client.\-c}}
\subsubsection[{main}]{\setlength{\rightskip}{0pt plus 5cm}int {\bf main} (
\begin{DoxyParamCaption}
\item[{int}]{argc, }
\item[{char $\ast$}]{argv\mbox{[}$\,$\mbox{]}}
\end{DoxyParamCaption}
)}}\label{client_8c_a0ddf1224851353fc92bfbff6f499fa97}
\-Querying server if the segments are unique

\-Uploads unique segments to server

\-Call server to sync data to disk \hypertarget{client_8c_a0745b6b9d5e344cacb735b7e9f09fb43}{\index{client.\-c@{client.\-c}!post@{post}}
\index{post@{post}!client.c@{client.\-c}}
\subsubsection[{post}]{\setlength{\rightskip}{0pt plus 5cm}static int {\bf post} (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{path, }
\item[{void $\ast$}]{data, }
\item[{size\-\_\-t}]{size, }
\item[{void $\ast$}]{resp}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}}\label{client_8c_a0745b6b9d5e344cacb735b7e9f09fb43}
\-Generates a \-P\-O\-S\-T request 
\begin{DoxyParams}{\-Parameters}
{\em path} & \-Path of server \\
\hline
{\em data} & \-Data to post \\
\hline
{\em size} & \-Size of data to post \\
\hline
{\em resp} & \-Pointer to store response body \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}
0 if successful, -\/1 otherwise 
\end{DoxyReturn}
\hypertarget{client_8c_a83c6ee766873ef92fb8324e6dfc1e398}{\index{client.\-c@{client.\-c}!process\-Segments@{process\-Segments}}
\index{process\-Segments@{process\-Segments}!client.c@{client.\-c}}
\subsubsection[{process\-Segments}]{\setlength{\rightskip}{0pt plus 5cm}void$\ast$ {\bf process\-Segments} (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{ptr}
\end{DoxyParamCaption}
)}}\label{client_8c_a83c6ee766873ef92fb8324e6dfc1e398}
\-Routine to put segments to server 
\begin{DoxyParams}{\-Parameters}
{\em ptr} & \hyperlink{structQueue}{\-Queue} for incoming segments \\
\hline
\end{DoxyParams}
\hypertarget{client_8c_a7e5ded8767e8201215c82a48b02f6c6c}{\index{client.\-c@{client.\-c}!write\-Fn@{write\-Fn}}
\index{write\-Fn@{write\-Fn}!client.c@{client.\-c}}
\subsubsection[{write\-Fn}]{\setlength{\rightskip}{0pt plus 5cm}static size\-\_\-t {\bf write\-Fn} (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{ptr, }
\item[{size\-\_\-t}]{size, }
\item[{size\-\_\-t}]{nmemb, }
\item[{void $\ast$}]{userdata}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}}\label{client_8c_a7e5ded8767e8201215c82a48b02f6c6c}
\-Implements curl \-W\-R\-I\-T\-E\-F\-U\-N\-C\-T\-I\-O\-N to get response body 
\begin{DoxyParams}{\-Parameters}
{\em ptr} & \-Pointer to data \\
\hline
{\em size} & \-Size of a block \\
\hline
{\em nmemb} & \-Number of memory blocks \\
\hline
{\em userdata} & \-Custom data \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}

\end{DoxyReturn}
