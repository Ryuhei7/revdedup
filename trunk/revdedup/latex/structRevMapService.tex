\hypertarget{structRevMapService}{\section{\-Rev\-Map\-Service \-Struct \-Reference}
\label{structRevMapService}\index{\-Rev\-Map\-Service@{\-Rev\-Map\-Service}}
}


{\ttfamily \#include $<$revmap.\-h$>$}

\subsection*{\-Public \-Attributes}
\begin{DoxyCompactItemize}
\item 
pthread\-\_\-t \hyperlink{structRevMapService_ab2e0ab405280b6b2a6583726274a78eb}{\-\_\-tid} \mbox{[}\hyperlink{revdedup_8h_a7c4a19f561ae530b98cd1cf1794c6988}{\-R\-E\-V\-\_\-\-C\-N\-T}\mbox{]}
\item 
\hyperlink{structSMEntry}{\-S\-M\-Entry} $\ast$ \hyperlink{structRevMapService_ace492c5fabb9a24cc635bb89e45294e4}{\-\_\-sen}
\item 
\hyperlink{structCMEntry}{\-C\-M\-Entry} $\ast$ \hyperlink{structRevMapService_a5af0b72f8ba84b926b568bc9c38d186a}{\-\_\-cen}
\item 
\hyperlink{structSegmentLog}{\-Segment\-Log} $\ast$ \hyperlink{structRevMapService_af43b4b29bb7335be430bc345604748f0}{\-\_\-slog}
\item 
\hyperlink{structChunkLog}{\-Chunk\-Log} $\ast$ \hyperlink{structRevMapService_a6af1ae688052a7daca84586ffae50bc6}{\-\_\-clog}
\item 
uint32\-\_\-t \hyperlink{structRevMapService_ab0a99b750f57f7ac7b548b1f2729cea2}{\-\_\-ins}
\item 
uint32\-\_\-t \hyperlink{structRevMapService_a106b5aaf39bcd26f0f12cf1edbd236dc}{\-\_\-ver}
\item 
pthread\-\_\-spinlock\-\_\-t \hyperlink{structRevMapService_adfd1317c2bab22193cde446c3007d954}{\-\_\-rlock}
\item 
int($\ast$ \hyperlink{structRevMapService_a2298bb6652683973048fd4251b0c632e}{start} )(\hyperlink{structSMEntry}{\-S\-M\-Entry} $\ast$sen, \hyperlink{structCMEntry}{\-C\-M\-Entry} $\ast$cen, uint32\-\_\-t images, uint32\-\_\-t version)
\item 
int($\ast$ \hyperlink{structRevMapService_a3bd47d541130d571de99248bb1e37fb0}{stop} )()
\end{DoxyCompactItemize}


\subsection{\-Detailed \-Description}
\-Reverse deduplication mapping service control 

\subsection{\-Member \-Data \-Documentation}
\hypertarget{structRevMapService_a5af0b72f8ba84b926b568bc9c38d186a}{\index{\-Rev\-Map\-Service@{\-Rev\-Map\-Service}!\-\_\-cen@{\-\_\-cen}}
\index{\-\_\-cen@{\-\_\-cen}!RevMapService@{\-Rev\-Map\-Service}}
\subsubsection[{\-\_\-cen}]{\setlength{\rightskip}{0pt plus 5cm}{\bf \-C\-M\-Entry}$\ast$ {\bf \-Rev\-Map\-Service\-::\-\_\-cen}}}\label{structRevMapService_a5af0b72f8ba84b926b568bc9c38d186a}
\-Chunk entries \hypertarget{structRevMapService_a6af1ae688052a7daca84586ffae50bc6}{\index{\-Rev\-Map\-Service@{\-Rev\-Map\-Service}!\-\_\-clog@{\-\_\-clog}}
\index{\-\_\-clog@{\-\_\-clog}!RevMapService@{\-Rev\-Map\-Service}}
\subsubsection[{\-\_\-clog}]{\setlength{\rightskip}{0pt plus 5cm}{\bf \-Chunk\-Log}$\ast$ {\bf \-Rev\-Map\-Service\-::\-\_\-clog}}}\label{structRevMapService_a6af1ae688052a7daca84586ffae50bc6}
\-Pointer to global chunk log \hypertarget{structRevMapService_ab0a99b750f57f7ac7b548b1f2729cea2}{\index{\-Rev\-Map\-Service@{\-Rev\-Map\-Service}!\-\_\-ins@{\-\_\-ins}}
\index{\-\_\-ins@{\-\_\-ins}!RevMapService@{\-Rev\-Map\-Service}}
\subsubsection[{\-\_\-ins}]{\setlength{\rightskip}{0pt plus 5cm}uint32\-\_\-t {\bf \-Rev\-Map\-Service\-::\-\_\-ins}}}\label{structRevMapService_ab0a99b750f57f7ac7b548b1f2729cea2}
\-Total images in revdedup \hypertarget{structRevMapService_adfd1317c2bab22193cde446c3007d954}{\index{\-Rev\-Map\-Service@{\-Rev\-Map\-Service}!\-\_\-rlock@{\-\_\-rlock}}
\index{\-\_\-rlock@{\-\_\-rlock}!RevMapService@{\-Rev\-Map\-Service}}
\subsubsection[{\-\_\-rlock}]{\setlength{\rightskip}{0pt plus 5cm}pthread\-\_\-spinlock\-\_\-t {\bf \-Rev\-Map\-Service\-::\-\_\-rlock}}}\label{structRevMapService_adfd1317c2bab22193cde446c3007d954}
\-Lock to synchronize chunk reference count \hypertarget{structRevMapService_ace492c5fabb9a24cc635bb89e45294e4}{\index{\-Rev\-Map\-Service@{\-Rev\-Map\-Service}!\-\_\-sen@{\-\_\-sen}}
\index{\-\_\-sen@{\-\_\-sen}!RevMapService@{\-Rev\-Map\-Service}}
\subsubsection[{\-\_\-sen}]{\setlength{\rightskip}{0pt plus 5cm}{\bf \-S\-M\-Entry}$\ast$ {\bf \-Rev\-Map\-Service\-::\-\_\-sen}}}\label{structRevMapService_ace492c5fabb9a24cc635bb89e45294e4}
\hyperlink{structSegment}{\-Segment} entries \hypertarget{structRevMapService_af43b4b29bb7335be430bc345604748f0}{\index{\-Rev\-Map\-Service@{\-Rev\-Map\-Service}!\-\_\-slog@{\-\_\-slog}}
\index{\-\_\-slog@{\-\_\-slog}!RevMapService@{\-Rev\-Map\-Service}}
\subsubsection[{\-\_\-slog}]{\setlength{\rightskip}{0pt plus 5cm}{\bf \-Segment\-Log}$\ast$ {\bf \-Rev\-Map\-Service\-::\-\_\-slog}}}\label{structRevMapService_af43b4b29bb7335be430bc345604748f0}
\-Pointer to global segment log \hypertarget{structRevMapService_ab2e0ab405280b6b2a6583726274a78eb}{\index{\-Rev\-Map\-Service@{\-Rev\-Map\-Service}!\-\_\-tid@{\-\_\-tid}}
\index{\-\_\-tid@{\-\_\-tid}!RevMapService@{\-Rev\-Map\-Service}}
\subsubsection[{\-\_\-tid}]{\setlength{\rightskip}{0pt plus 5cm}pthread\-\_\-t {\bf \-Rev\-Map\-Service\-::\-\_\-tid}\mbox{[}{\bf \-R\-E\-V\-\_\-\-C\-N\-T}\mbox{]}}}\label{structRevMapService_ab2e0ab405280b6b2a6583726274a78eb}
\-Thread \-I\-D for processing images \hypertarget{structRevMapService_a106b5aaf39bcd26f0f12cf1edbd236dc}{\index{\-Rev\-Map\-Service@{\-Rev\-Map\-Service}!\-\_\-ver@{\-\_\-ver}}
\index{\-\_\-ver@{\-\_\-ver}!RevMapService@{\-Rev\-Map\-Service}}
\subsubsection[{\-\_\-ver}]{\setlength{\rightskip}{0pt plus 5cm}uint32\-\_\-t {\bf \-Rev\-Map\-Service\-::\-\_\-ver}}}\label{structRevMapService_a106b5aaf39bcd26f0f12cf1edbd236dc}
\-Version for reverse deduplication \hypertarget{structRevMapService_a2298bb6652683973048fd4251b0c632e}{\index{\-Rev\-Map\-Service@{\-Rev\-Map\-Service}!start@{start}}
\index{start@{start}!RevMapService@{\-Rev\-Map\-Service}}
\subsubsection[{start}]{\setlength{\rightskip}{0pt plus 5cm}int($\ast$ {\bf \-Rev\-Map\-Service\-::start})({\bf \-S\-M\-Entry} $\ast$sen, {\bf \-C\-M\-Entry} $\ast$cen, uint32\-\_\-t images, uint32\-\_\-t version)}}\label{structRevMapService_a2298bb6652683973048fd4251b0c632e}
\-Starts the mapping service 
\begin{DoxyParams}{\-Parameters}
{\em sen} & \hyperlink{structSegment}{\-Segment} entries \\
\hline
{\em cen} & \-Chunk entries \\
\hline
{\em images} & \-Total images in revdedup \\
\hline
{\em version} & \-Version for reverse deduplication \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}
0 if successful, -\/1 otherwise 
\end{DoxyReturn}
\hypertarget{structRevMapService_a3bd47d541130d571de99248bb1e37fb0}{\index{\-Rev\-Map\-Service@{\-Rev\-Map\-Service}!stop@{stop}}
\index{stop@{stop}!RevMapService@{\-Rev\-Map\-Service}}
\subsubsection[{stop}]{\setlength{\rightskip}{0pt plus 5cm}int($\ast$ {\bf \-Rev\-Map\-Service\-::stop})()}}\label{structRevMapService_a3bd47d541130d571de99248bb1e37fb0}
\-Stops the mapping service \begin{DoxyReturn}{\-Returns}
0 if successful, -\/1 otherwise 
\end{DoxyReturn}


\-The documentation for this struct was generated from the following file\-:\begin{DoxyCompactItemize}
\item 
\hyperlink{revmap_8h}{revmap.\-h}\end{DoxyCompactItemize}
