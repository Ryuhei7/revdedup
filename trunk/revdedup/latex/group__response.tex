\hypertarget{group__response}{\section{generation of responses}
\label{group__response}\index{generation of responses@{generation of responses}}
}
\subsection*{\-Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef void($\ast$ \hyperlink{group__response_gae678e9aeb43b374f595d082737b68272}{\-M\-H\-D\-\_\-\-Content\-Reader\-Free\-Callback} )(void $\ast$cls)
\end{DoxyCompactItemize}
\subsection*{\-Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{group__response_ga82593e08ec5cd3fe305590c804c4649d}{\-M\-H\-D\-\_\-\-Response\-Memory\-Mode} \{ \hyperlink{group__response_gga82593e08ec5cd3fe305590c804c4649da58a8a36e332f4e917cfa41592d3a833e}{\-M\-H\-D\-\_\-\-R\-E\-S\-P\-M\-E\-M\-\_\-\-P\-E\-R\-S\-I\-S\-T\-E\-N\-T}, 
\hyperlink{group__response_gga82593e08ec5cd3fe305590c804c4649da4ce2aa454f6162a95426d130526acc60}{\-M\-H\-D\-\_\-\-R\-E\-S\-P\-M\-E\-M\-\_\-\-M\-U\-S\-T\-\_\-\-F\-R\-E\-E}, 
\hyperlink{group__response_gga82593e08ec5cd3fe305590c804c4649da663dcabf6be3469930bb281d5d396b3a}{\-M\-H\-D\-\_\-\-R\-E\-S\-P\-M\-E\-M\-\_\-\-M\-U\-S\-T\-\_\-\-C\-O\-P\-Y}
 \}
\end{DoxyCompactItemize}
\subsection*{\-Functions}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{group__response_gaa0ee587cdd6d860add50dbeb62a81fe1}{\-M\-H\-D\-\_\-queue\-\_\-response} (struct \-M\-H\-D\-\_\-\-Connection $\ast$connection, unsigned int status\-\_\-code, struct \-M\-H\-D\-\_\-\-Response $\ast$response)
\item 
struct \-M\-H\-D\-\_\-\-Response $\ast$ \hyperlink{group__response_gac56767f937d8085d4204db4fdbef0516}{\-M\-H\-D\-\_\-create\-\_\-response\-\_\-from\-\_\-callback} (uint64\-\_\-t size, size\-\_\-t block\-\_\-size, \hyperlink{microhttpd_8h_adcaa9f4bc6cba2a886b3648489040ee3}{\-M\-H\-D\-\_\-\-Content\-Reader\-Callback} crc, void $\ast$crc\-\_\-cls, \hyperlink{group__response_gae678e9aeb43b374f595d082737b68272}{\-M\-H\-D\-\_\-\-Content\-Reader\-Free\-Callback} crfc)
\item 
struct \-M\-H\-D\-\_\-\-Response $\ast$ \hyperlink{group__response_gad45919f3a1fc9cbe10ceaf01bd37b738}{\-M\-H\-D\-\_\-create\-\_\-response\-\_\-from\-\_\-data} (size\-\_\-t size, void $\ast$data, int must\-\_\-free, int must\-\_\-copy)
\item 
struct \-M\-H\-D\-\_\-\-Response $\ast$ \hyperlink{group__response_ga744262e62f0f14b64cbebbdd9128c63a}{\-M\-H\-D\-\_\-create\-\_\-response\-\_\-from\-\_\-buffer} (size\-\_\-t size, void $\ast$buffer, enum \hyperlink{group__response_ga82593e08ec5cd3fe305590c804c4649d}{\-M\-H\-D\-\_\-\-Response\-Memory\-Mode} mode)
\item 
struct \-M\-H\-D\-\_\-\-Response $\ast$ \hyperlink{group__response_gaea51561acd8f0c64b1cc18ba1861eb4e}{\-M\-H\-D\-\_\-create\-\_\-response\-\_\-from\-\_\-fd} (size\-\_\-t size, int fd)
\item 
struct \-M\-H\-D\-\_\-\-Response $\ast$ \hyperlink{group__response_ga7be995aca61905c011f767613083918a}{\-M\-H\-D\-\_\-create\-\_\-response\-\_\-from\-\_\-fd\-\_\-at\-\_\-offset} (size\-\_\-t size, int fd, off\-\_\-t offset)
\item 
void \hyperlink{group__response_gab34675107fb6ab6de301776b1fdff3f5}{\-M\-H\-D\-\_\-destroy\-\_\-response} (struct \-M\-H\-D\-\_\-\-Response $\ast$response)
\item 
int \hyperlink{group__response_ga2091d2691bb976dc32606f6a2ead60bb}{\-M\-H\-D\-\_\-add\-\_\-response\-\_\-header} (struct \-M\-H\-D\-\_\-\-Response $\ast$response, const char $\ast$header, const char $\ast$content)
\item 
int \hyperlink{group__response_ga1d26df6af7378755cdf85e290736b0ec}{\-M\-H\-D\-\_\-add\-\_\-response\-\_\-footer} (struct \-M\-H\-D\-\_\-\-Response $\ast$response, const char $\ast$footer, const char $\ast$content)
\item 
int \hyperlink{group__response_gabb2405455f580377e4887611f81b7638}{\-M\-H\-D\-\_\-del\-\_\-response\-\_\-header} (struct \-M\-H\-D\-\_\-\-Response $\ast$response, const char $\ast$header, const char $\ast$content)
\item 
int \hyperlink{group__response_ga3e182fe6161e314b83fd9a910b2d9072}{\-M\-H\-D\-\_\-get\-\_\-response\-\_\-headers} (struct \-M\-H\-D\-\_\-\-Response $\ast$response, \hyperlink{group__request_ga4a3cbf233bf4c7ffabeb3e85490ff464}{\-M\-H\-D\-\_\-\-Key\-Value\-Iterator} iterator, void $\ast$iterator\-\_\-cls)
\item 
const char $\ast$ \hyperlink{group__response_gade6bba8c8709dd9892d5125cdbb1588b}{\-M\-H\-D\-\_\-get\-\_\-response\-\_\-header} (struct \-M\-H\-D\-\_\-\-Response $\ast$response, const char $\ast$key)
\end{DoxyCompactItemize}


\subsection{\-Detailed \-Description}
\-M\-H\-D \-A\-P\-I used to generate responses. 

\subsection{\-Typedef \-Documentation}
\hypertarget{group__response_gae678e9aeb43b374f595d082737b68272}{\index{generation of responses@{generation of responses}!\-M\-H\-D\-\_\-\-Content\-Reader\-Free\-Callback@{\-M\-H\-D\-\_\-\-Content\-Reader\-Free\-Callback}}
\index{\-M\-H\-D\-\_\-\-Content\-Reader\-Free\-Callback@{\-M\-H\-D\-\_\-\-Content\-Reader\-Free\-Callback}!generation of responses@{generation of responses}}
\subsubsection[{\-M\-H\-D\-\_\-\-Content\-Reader\-Free\-Callback}]{\setlength{\rightskip}{0pt plus 5cm}typedef void($\ast$ {\bf \-M\-H\-D\-\_\-\-Content\-Reader\-Free\-Callback})(void $\ast$cls)}}\label{group__response_gae678e9aeb43b374f595d082737b68272}
\-This method is called by libmicrohttpd if we are done with a content reader. \-It should be used to free resources associated with the content reader.


\begin{DoxyParams}{\-Parameters}
{\em cls} & closure \\
\hline
\end{DoxyParams}


\subsection{\-Enumeration \-Type \-Documentation}
\hypertarget{group__response_ga82593e08ec5cd3fe305590c804c4649d}{\index{generation of responses@{generation of responses}!\-M\-H\-D\-\_\-\-Response\-Memory\-Mode@{\-M\-H\-D\-\_\-\-Response\-Memory\-Mode}}
\index{\-M\-H\-D\-\_\-\-Response\-Memory\-Mode@{\-M\-H\-D\-\_\-\-Response\-Memory\-Mode}!generation of responses@{generation of responses}}
\subsubsection[{\-M\-H\-D\-\_\-\-Response\-Memory\-Mode}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf \-M\-H\-D\-\_\-\-Response\-Memory\-Mode}}}\label{group__response_ga82593e08ec5cd3fe305590c804c4649d}
\-Specification for how \-M\-H\-D should treat the memory buffer given for the response. \begin{Desc}
\item[\-Enumerator\-: ]\par
\begin{description}
\index{\-M\-H\-D\-\_\-\-R\-E\-S\-P\-M\-E\-M\-\_\-\-P\-E\-R\-S\-I\-S\-T\-E\-N\-T@{\-M\-H\-D\-\_\-\-R\-E\-S\-P\-M\-E\-M\-\_\-\-P\-E\-R\-S\-I\-S\-T\-E\-N\-T}!generation of responses@{generation of responses}}\index{generation of responses@{generation of responses}!\-M\-H\-D\-\_\-\-R\-E\-S\-P\-M\-E\-M\-\_\-\-P\-E\-R\-S\-I\-S\-T\-E\-N\-T@{\-M\-H\-D\-\_\-\-R\-E\-S\-P\-M\-E\-M\-\_\-\-P\-E\-R\-S\-I\-S\-T\-E\-N\-T}}\item[{\em 
\hypertarget{group__response_gga82593e08ec5cd3fe305590c804c4649da58a8a36e332f4e917cfa41592d3a833e}{\-M\-H\-D\-\_\-\-R\-E\-S\-P\-M\-E\-M\-\_\-\-P\-E\-R\-S\-I\-S\-T\-E\-N\-T}\label{group__response_gga82593e08ec5cd3fe305590c804c4649da58a8a36e332f4e917cfa41592d3a833e}
}]\-Buffer is a persistent (static/global) buffer that won't change for at least the lifetime of the response, \-M\-H\-D should just use it, not free it, not copy it, just keep an alias to it. \index{\-M\-H\-D\-\_\-\-R\-E\-S\-P\-M\-E\-M\-\_\-\-M\-U\-S\-T\-\_\-\-F\-R\-E\-E@{\-M\-H\-D\-\_\-\-R\-E\-S\-P\-M\-E\-M\-\_\-\-M\-U\-S\-T\-\_\-\-F\-R\-E\-E}!generation of responses@{generation of responses}}\index{generation of responses@{generation of responses}!\-M\-H\-D\-\_\-\-R\-E\-S\-P\-M\-E\-M\-\_\-\-M\-U\-S\-T\-\_\-\-F\-R\-E\-E@{\-M\-H\-D\-\_\-\-R\-E\-S\-P\-M\-E\-M\-\_\-\-M\-U\-S\-T\-\_\-\-F\-R\-E\-E}}\item[{\em 
\hypertarget{group__response_gga82593e08ec5cd3fe305590c804c4649da4ce2aa454f6162a95426d130526acc60}{\-M\-H\-D\-\_\-\-R\-E\-S\-P\-M\-E\-M\-\_\-\-M\-U\-S\-T\-\_\-\-F\-R\-E\-E}\label{group__response_gga82593e08ec5cd3fe305590c804c4649da4ce2aa454f6162a95426d130526acc60}
}]\-Buffer is heap-\/allocated with `malloc()` (or equivalent) and should be freed by \-M\-H\-D after processing the response has concluded (response reference counter reaches zero). \index{\-M\-H\-D\-\_\-\-R\-E\-S\-P\-M\-E\-M\-\_\-\-M\-U\-S\-T\-\_\-\-C\-O\-P\-Y@{\-M\-H\-D\-\_\-\-R\-E\-S\-P\-M\-E\-M\-\_\-\-M\-U\-S\-T\-\_\-\-C\-O\-P\-Y}!generation of responses@{generation of responses}}\index{generation of responses@{generation of responses}!\-M\-H\-D\-\_\-\-R\-E\-S\-P\-M\-E\-M\-\_\-\-M\-U\-S\-T\-\_\-\-C\-O\-P\-Y@{\-M\-H\-D\-\_\-\-R\-E\-S\-P\-M\-E\-M\-\_\-\-M\-U\-S\-T\-\_\-\-C\-O\-P\-Y}}\item[{\em 
\hypertarget{group__response_gga82593e08ec5cd3fe305590c804c4649da663dcabf6be3469930bb281d5d396b3a}{\-M\-H\-D\-\_\-\-R\-E\-S\-P\-M\-E\-M\-\_\-\-M\-U\-S\-T\-\_\-\-C\-O\-P\-Y}\label{group__response_gga82593e08ec5cd3fe305590c804c4649da663dcabf6be3469930bb281d5d396b3a}
}]\-Buffer is in transient memory, but not on the heap (for example, on the stack or non-\/`malloc()` allocated) and only valid during the call to \hyperlink{group__response_ga744262e62f0f14b64cbebbdd9128c63a}{\-M\-H\-D\-\_\-create\-\_\-response\-\_\-from\-\_\-buffer}. \-M\-H\-D must make its own private copy of the data for processing. \end{description}
\end{Desc}



\subsection{\-Function \-Documentation}
\hypertarget{group__response_ga1d26df6af7378755cdf85e290736b0ec}{\index{generation of responses@{generation of responses}!\-M\-H\-D\-\_\-add\-\_\-response\-\_\-footer@{\-M\-H\-D\-\_\-add\-\_\-response\-\_\-footer}}
\index{\-M\-H\-D\-\_\-add\-\_\-response\-\_\-footer@{\-M\-H\-D\-\_\-add\-\_\-response\-\_\-footer}!generation of responses@{generation of responses}}
\subsubsection[{\-M\-H\-D\-\_\-add\-\_\-response\-\_\-footer}]{\setlength{\rightskip}{0pt plus 5cm}int {\bf \-M\-H\-D\-\_\-add\-\_\-response\-\_\-footer} (
\begin{DoxyParamCaption}
\item[{struct \-M\-H\-D\-\_\-\-Response $\ast$}]{response, }
\item[{const char $\ast$}]{footer, }
\item[{const char $\ast$}]{content}
\end{DoxyParamCaption}
)}}\label{group__response_ga1d26df6af7378755cdf85e290736b0ec}
\-Add a footer line to the response.


\begin{DoxyParams}{\-Parameters}
{\em response} & response to remove a header from \\
\hline
{\em footer} & the footer to delete \\
\hline
{\em content} & value to delete \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}
\hyperlink{microhttpd_8h_a741a3f020f0a97d89f4566d27e606d5f}{\-M\-H\-D\-\_\-\-N\-O} on error (i.\-e. invalid footer or content format). 
\end{DoxyReturn}
\hypertarget{group__response_ga2091d2691bb976dc32606f6a2ead60bb}{\index{generation of responses@{generation of responses}!\-M\-H\-D\-\_\-add\-\_\-response\-\_\-header@{\-M\-H\-D\-\_\-add\-\_\-response\-\_\-header}}
\index{\-M\-H\-D\-\_\-add\-\_\-response\-\_\-header@{\-M\-H\-D\-\_\-add\-\_\-response\-\_\-header}!generation of responses@{generation of responses}}
\subsubsection[{\-M\-H\-D\-\_\-add\-\_\-response\-\_\-header}]{\setlength{\rightskip}{0pt plus 5cm}int {\bf \-M\-H\-D\-\_\-add\-\_\-response\-\_\-header} (
\begin{DoxyParamCaption}
\item[{struct \-M\-H\-D\-\_\-\-Response $\ast$}]{response, }
\item[{const char $\ast$}]{header, }
\item[{const char $\ast$}]{content}
\end{DoxyParamCaption}
)}}\label{group__response_ga2091d2691bb976dc32606f6a2ead60bb}
\-Add a header line to the response.


\begin{DoxyParams}{\-Parameters}
{\em response} & response to add a header to \\
\hline
{\em header} & the header to add \\
\hline
{\em content} & value to add \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}
\hyperlink{microhttpd_8h_a741a3f020f0a97d89f4566d27e606d5f}{\-M\-H\-D\-\_\-\-N\-O} on error (i.\-e. invalid header or content format), or out of memory 
\end{DoxyReturn}
\hypertarget{group__response_ga744262e62f0f14b64cbebbdd9128c63a}{\index{generation of responses@{generation of responses}!\-M\-H\-D\-\_\-create\-\_\-response\-\_\-from\-\_\-buffer@{\-M\-H\-D\-\_\-create\-\_\-response\-\_\-from\-\_\-buffer}}
\index{\-M\-H\-D\-\_\-create\-\_\-response\-\_\-from\-\_\-buffer@{\-M\-H\-D\-\_\-create\-\_\-response\-\_\-from\-\_\-buffer}!generation of responses@{generation of responses}}
\subsubsection[{\-M\-H\-D\-\_\-create\-\_\-response\-\_\-from\-\_\-buffer}]{\setlength{\rightskip}{0pt plus 5cm}struct \-M\-H\-D\-\_\-\-Response$\ast$ {\bf \-M\-H\-D\-\_\-create\-\_\-response\-\_\-from\-\_\-buffer} (
\begin{DoxyParamCaption}
\item[{size\-\_\-t}]{size, }
\item[{void $\ast$}]{buffer, }
\item[{enum {\bf \-M\-H\-D\-\_\-\-Response\-Memory\-Mode}}]{mode}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}read\mbox{]}}}}\label{group__response_ga744262e62f0f14b64cbebbdd9128c63a}
\-Create a response object. \-The response object can be extended with header information and then be used any number of times.


\begin{DoxyParams}{\-Parameters}
{\em size} & size of the data portion of the response \\
\hline
{\em buffer} & size bytes containing the response's data portion \\
\hline
{\em mode} & flags for buffer management \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}
\-N\-U\-L\-L on error (i.\-e. invalid arguments, out of memory) 
\end{DoxyReturn}
\hypertarget{group__response_gac56767f937d8085d4204db4fdbef0516}{\index{generation of responses@{generation of responses}!\-M\-H\-D\-\_\-create\-\_\-response\-\_\-from\-\_\-callback@{\-M\-H\-D\-\_\-create\-\_\-response\-\_\-from\-\_\-callback}}
\index{\-M\-H\-D\-\_\-create\-\_\-response\-\_\-from\-\_\-callback@{\-M\-H\-D\-\_\-create\-\_\-response\-\_\-from\-\_\-callback}!generation of responses@{generation of responses}}
\subsubsection[{\-M\-H\-D\-\_\-create\-\_\-response\-\_\-from\-\_\-callback}]{\setlength{\rightskip}{0pt plus 5cm}struct \-M\-H\-D\-\_\-\-Response$\ast$ {\bf \-M\-H\-D\-\_\-create\-\_\-response\-\_\-from\-\_\-callback} (
\begin{DoxyParamCaption}
\item[{uint64\-\_\-t}]{size, }
\item[{size\-\_\-t}]{block\-\_\-size, }
\item[{{\bf \-M\-H\-D\-\_\-\-Content\-Reader\-Callback}}]{crc, }
\item[{void $\ast$}]{crc\-\_\-cls, }
\item[{{\bf \-M\-H\-D\-\_\-\-Content\-Reader\-Free\-Callback}}]{crfc}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}read\mbox{]}}}}\label{group__response_gac56767f937d8085d4204db4fdbef0516}
\-Create a response object. \-The response object can be extended with header information and then be used any number of times.


\begin{DoxyParams}{\-Parameters}
{\em size} & size of the data portion of the response, \hyperlink{microhttpd_8h_a18f394fa054a903615bce01fa40b498d}{\-M\-H\-D\-\_\-\-S\-I\-Z\-E\-\_\-\-U\-N\-K\-N\-O\-W\-N} for unknown \\
\hline
{\em block\-\_\-size} & preferred block size for querying crc (advisory only, \-M\-H\-D may still call {\itshape crc\/} using smaller chunks); this is essentially the buffer size used for \-I\-O, clients should pick a value that is appropriate for \-I\-O and memory performance requirements \\
\hline
{\em crc} & callback to use to obtain response data \\
\hline
{\em crc\-\_\-cls} & extra argument to {\itshape crc\/} \\
\hline
{\em crfc} & callback to call to free {\itshape crc\-\_\-cls\/} resources \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}
\-N\-U\-L\-L on error (i.\-e. invalid arguments, out of memory) 
\end{DoxyReturn}
\hypertarget{group__response_gad45919f3a1fc9cbe10ceaf01bd37b738}{\index{generation of responses@{generation of responses}!\-M\-H\-D\-\_\-create\-\_\-response\-\_\-from\-\_\-data@{\-M\-H\-D\-\_\-create\-\_\-response\-\_\-from\-\_\-data}}
\index{\-M\-H\-D\-\_\-create\-\_\-response\-\_\-from\-\_\-data@{\-M\-H\-D\-\_\-create\-\_\-response\-\_\-from\-\_\-data}!generation of responses@{generation of responses}}
\subsubsection[{\-M\-H\-D\-\_\-create\-\_\-response\-\_\-from\-\_\-data}]{\setlength{\rightskip}{0pt plus 5cm}struct \-M\-H\-D\-\_\-\-Response$\ast$ {\bf \-M\-H\-D\-\_\-create\-\_\-response\-\_\-from\-\_\-data} (
\begin{DoxyParamCaption}
\item[{size\-\_\-t}]{size, }
\item[{void $\ast$}]{data, }
\item[{int}]{must\-\_\-free, }
\item[{int}]{must\-\_\-copy}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}read\mbox{]}}}}\label{group__response_gad45919f3a1fc9cbe10ceaf01bd37b738}
\-Create a response object. \-The response object can be extended with header information and then be used any number of times.


\begin{DoxyParams}{\-Parameters}
{\em size} & size of the {\itshape data\/} portion of the response \\
\hline
{\em data} & the data itself \\
\hline
{\em must\-\_\-free} & libmicrohttpd should free data when done \\
\hline
{\em must\-\_\-copy} & libmicrohttpd must make a copy of {\itshape data\/} right away, the data maybe released anytime after this call returns \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}
\-N\-U\-L\-L on error (i.\-e. invalid arguments, out of memory) 
\end{DoxyReturn}
\begin{DoxyRefDesc}{\-Deprecated}
\item[\hyperlink{deprecated__deprecated000003}{\-Deprecated}]use \hyperlink{group__response_ga744262e62f0f14b64cbebbdd9128c63a}{\-M\-H\-D\-\_\-create\-\_\-response\-\_\-from\-\_\-buffer} instead\end{DoxyRefDesc}
\hypertarget{group__response_gaea51561acd8f0c64b1cc18ba1861eb4e}{\index{generation of responses@{generation of responses}!\-M\-H\-D\-\_\-create\-\_\-response\-\_\-from\-\_\-fd@{\-M\-H\-D\-\_\-create\-\_\-response\-\_\-from\-\_\-fd}}
\index{\-M\-H\-D\-\_\-create\-\_\-response\-\_\-from\-\_\-fd@{\-M\-H\-D\-\_\-create\-\_\-response\-\_\-from\-\_\-fd}!generation of responses@{generation of responses}}
\subsubsection[{\-M\-H\-D\-\_\-create\-\_\-response\-\_\-from\-\_\-fd}]{\setlength{\rightskip}{0pt plus 5cm}struct \-M\-H\-D\-\_\-\-Response$\ast$ {\bf \-M\-H\-D\-\_\-create\-\_\-response\-\_\-from\-\_\-fd} (
\begin{DoxyParamCaption}
\item[{size\-\_\-t}]{size, }
\item[{int}]{fd}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}read\mbox{]}}}}\label{group__response_gaea51561acd8f0c64b1cc18ba1861eb4e}
\-Create a response object. \-The response object can be extended with header information and then be used any number of times.


\begin{DoxyParams}{\-Parameters}
{\em size} & size of the data portion of the response \\
\hline
{\em fd} & file descriptor referring to a file on disk with the data; will be closed when response is destroyed; fd should be in 'blocking' mode \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}
\-N\-U\-L\-L on error (i.\-e. invalid arguments, out of memory) 
\end{DoxyReturn}
\hypertarget{group__response_ga7be995aca61905c011f767613083918a}{\index{generation of responses@{generation of responses}!\-M\-H\-D\-\_\-create\-\_\-response\-\_\-from\-\_\-fd\-\_\-at\-\_\-offset@{\-M\-H\-D\-\_\-create\-\_\-response\-\_\-from\-\_\-fd\-\_\-at\-\_\-offset}}
\index{\-M\-H\-D\-\_\-create\-\_\-response\-\_\-from\-\_\-fd\-\_\-at\-\_\-offset@{\-M\-H\-D\-\_\-create\-\_\-response\-\_\-from\-\_\-fd\-\_\-at\-\_\-offset}!generation of responses@{generation of responses}}
\subsubsection[{\-M\-H\-D\-\_\-create\-\_\-response\-\_\-from\-\_\-fd\-\_\-at\-\_\-offset}]{\setlength{\rightskip}{0pt plus 5cm}struct \-M\-H\-D\-\_\-\-Response$\ast$ {\bf \-M\-H\-D\-\_\-create\-\_\-response\-\_\-from\-\_\-fd\-\_\-at\-\_\-offset} (
\begin{DoxyParamCaption}
\item[{size\-\_\-t}]{size, }
\item[{int}]{fd, }
\item[{off\-\_\-t}]{offset}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}read\mbox{]}}}}\label{group__response_ga7be995aca61905c011f767613083918a}
\-Create a response object. \-The response object can be extended with header information and then be used any number of times.


\begin{DoxyParams}{\-Parameters}
{\em size} & size of the data portion of the response \\
\hline
{\em fd} & file descriptor referring to a file on disk with the data; will be closed when response is destroyed; fd should be in 'blocking' mode \\
\hline
{\em offset} & offset to start reading from in the file; \-Be careful! `off\-\_\-t` may have been compiled to be a 64-\/bit variable for \-M\-H\-D, in which case your application also has to be compiled using the same options! \-Read the \-M\-H\-D manual for more details. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}
\-N\-U\-L\-L on error (i.\-e. invalid arguments, out of memory) 
\end{DoxyReturn}
\hypertarget{group__response_gabb2405455f580377e4887611f81b7638}{\index{generation of responses@{generation of responses}!\-M\-H\-D\-\_\-del\-\_\-response\-\_\-header@{\-M\-H\-D\-\_\-del\-\_\-response\-\_\-header}}
\index{\-M\-H\-D\-\_\-del\-\_\-response\-\_\-header@{\-M\-H\-D\-\_\-del\-\_\-response\-\_\-header}!generation of responses@{generation of responses}}
\subsubsection[{\-M\-H\-D\-\_\-del\-\_\-response\-\_\-header}]{\setlength{\rightskip}{0pt plus 5cm}int {\bf \-M\-H\-D\-\_\-del\-\_\-response\-\_\-header} (
\begin{DoxyParamCaption}
\item[{struct \-M\-H\-D\-\_\-\-Response $\ast$}]{response, }
\item[{const char $\ast$}]{header, }
\item[{const char $\ast$}]{content}
\end{DoxyParamCaption}
)}}\label{group__response_gabb2405455f580377e4887611f81b7638}
\-Delete a header (or footer) line from the response.


\begin{DoxyParams}{\-Parameters}
{\em response} & response to remove a header from \\
\hline
{\em header} & the header to delete \\
\hline
{\em content} & value to delete \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}
\hyperlink{microhttpd_8h_a741a3f020f0a97d89f4566d27e606d5f}{\-M\-H\-D\-\_\-\-N\-O} on error (no such header known) 
\end{DoxyReturn}
\hypertarget{group__response_gab34675107fb6ab6de301776b1fdff3f5}{\index{generation of responses@{generation of responses}!\-M\-H\-D\-\_\-destroy\-\_\-response@{\-M\-H\-D\-\_\-destroy\-\_\-response}}
\index{\-M\-H\-D\-\_\-destroy\-\_\-response@{\-M\-H\-D\-\_\-destroy\-\_\-response}!generation of responses@{generation of responses}}
\subsubsection[{\-M\-H\-D\-\_\-destroy\-\_\-response}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf \-M\-H\-D\-\_\-destroy\-\_\-response} (
\begin{DoxyParamCaption}
\item[{struct \-M\-H\-D\-\_\-\-Response $\ast$}]{response}
\end{DoxyParamCaption}
)}}\label{group__response_gab34675107fb6ab6de301776b1fdff3f5}
\-Destroy a response object and associated resources. \-Note that libmicrohttpd may keep some of the resources around if the response is still in the queue for some clients, so the memory may not necessarily be freed immediatley.


\begin{DoxyParams}{\-Parameters}
{\em response} & response to destroy \\
\hline
\end{DoxyParams}
\hypertarget{group__response_gade6bba8c8709dd9892d5125cdbb1588b}{\index{generation of responses@{generation of responses}!\-M\-H\-D\-\_\-get\-\_\-response\-\_\-header@{\-M\-H\-D\-\_\-get\-\_\-response\-\_\-header}}
\index{\-M\-H\-D\-\_\-get\-\_\-response\-\_\-header@{\-M\-H\-D\-\_\-get\-\_\-response\-\_\-header}!generation of responses@{generation of responses}}
\subsubsection[{\-M\-H\-D\-\_\-get\-\_\-response\-\_\-header}]{\setlength{\rightskip}{0pt plus 5cm}const char$\ast$ {\bf \-M\-H\-D\-\_\-get\-\_\-response\-\_\-header} (
\begin{DoxyParamCaption}
\item[{struct \-M\-H\-D\-\_\-\-Response $\ast$}]{response, }
\item[{const char $\ast$}]{key}
\end{DoxyParamCaption}
)}}\label{group__response_gade6bba8c8709dd9892d5125cdbb1588b}
\-Get a particular header (or footer) from the response.


\begin{DoxyParams}{\-Parameters}
{\em response} & response to query \\
\hline
{\em key} & which header to get \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}
\-N\-U\-L\-L if header does not exist 
\end{DoxyReturn}
\hypertarget{group__response_ga3e182fe6161e314b83fd9a910b2d9072}{\index{generation of responses@{generation of responses}!\-M\-H\-D\-\_\-get\-\_\-response\-\_\-headers@{\-M\-H\-D\-\_\-get\-\_\-response\-\_\-headers}}
\index{\-M\-H\-D\-\_\-get\-\_\-response\-\_\-headers@{\-M\-H\-D\-\_\-get\-\_\-response\-\_\-headers}!generation of responses@{generation of responses}}
\subsubsection[{\-M\-H\-D\-\_\-get\-\_\-response\-\_\-headers}]{\setlength{\rightskip}{0pt plus 5cm}int {\bf \-M\-H\-D\-\_\-get\-\_\-response\-\_\-headers} (
\begin{DoxyParamCaption}
\item[{struct \-M\-H\-D\-\_\-\-Response $\ast$}]{response, }
\item[{{\bf \-M\-H\-D\-\_\-\-Key\-Value\-Iterator}}]{iterator, }
\item[{void $\ast$}]{iterator\-\_\-cls}
\end{DoxyParamCaption}
)}}\label{group__response_ga3e182fe6161e314b83fd9a910b2d9072}
\-Get all of the headers (and footers) added to a response.


\begin{DoxyParams}{\-Parameters}
{\em response} & response to query \\
\hline
{\em iterator} & callback to call on each header; maybe \-N\-U\-L\-L (then just count headers) \\
\hline
{\em iterator\-\_\-cls} & extra argument to {\itshape iterator\/} \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}
number of entries iterated over 
\end{DoxyReturn}
\hypertarget{group__response_gaa0ee587cdd6d860add50dbeb62a81fe1}{\index{generation of responses@{generation of responses}!\-M\-H\-D\-\_\-queue\-\_\-response@{\-M\-H\-D\-\_\-queue\-\_\-response}}
\index{\-M\-H\-D\-\_\-queue\-\_\-response@{\-M\-H\-D\-\_\-queue\-\_\-response}!generation of responses@{generation of responses}}
\subsubsection[{\-M\-H\-D\-\_\-queue\-\_\-response}]{\setlength{\rightskip}{0pt plus 5cm}int {\bf \-M\-H\-D\-\_\-queue\-\_\-response} (
\begin{DoxyParamCaption}
\item[{struct \-M\-H\-D\-\_\-\-Connection $\ast$}]{connection, }
\item[{unsigned int}]{status\-\_\-code, }
\item[{struct \-M\-H\-D\-\_\-\-Response $\ast$}]{response}
\end{DoxyParamCaption}
)}}\label{group__response_gaa0ee587cdd6d860add50dbeb62a81fe1}
\hyperlink{structQueue}{\-Queue} a response to be transmitted to the client (as soon as possible but after \hyperlink{microhttpd_8h_a7d207efa3873993c6d3a72beb9367f75}{\-M\-H\-D\-\_\-\-Access\-Handler\-Callback} returns).


\begin{DoxyParams}{\-Parameters}
{\em connection} & the connection identifying the client \\
\hline
{\em status\-\_\-code} & \-H\-T\-T\-P status code (i.\-e. \#\-M\-H\-D\-\_\-\-H\-T\-T\-P\-\_\-\-O\-K) \\
\hline
{\em response} & response to transmit \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}
\hyperlink{microhttpd_8h_a741a3f020f0a97d89f4566d27e606d5f}{\-M\-H\-D\-\_\-\-N\-O} on error (i.\-e. reply already sent), \hyperlink{microhttpd_8h_a802c6784232db3736734807f2fb54e5c}{\-M\-H\-D\-\_\-\-Y\-E\-S} on success or if message has been queued 
\end{DoxyReturn}
