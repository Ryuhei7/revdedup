<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>RevDedup: include/revdedup.h File Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">RevDedup
   &#160;<span id="projectnumber">2.0</span>
   </div>
   <div id="projectbrief">Reverse Deduplication prototype</div>
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Defines</a>  </div>
  <div class="headertitle">
<div class="title">include/revdedup.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Definitions for RevDedup.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br/>
<code>#include &lt;stdlib.h&gt;</code><br/>
<code>#include &lt;stdint.h&gt;</code><br/>
<code>#include &lt;string.h&gt;</code><br/>
<code>#include &lt;sys/mman.h&gt;</code><br/>
<code>#include &lt;sys/types.h&gt;</code><br/>
<code>#include &lt;sys/stat.h&gt;</code><br/>
<code>#include &lt;fcntl.h&gt;</code><br/>
<code>#include &lt;pthread.h&gt;</code><br/>
<code>#include &lt;unistd.h&gt;</code><br/>
<code>#include &lt;endian.h&gt;</code><br/>
<code>#include &lt;assert.h&gt;</code><br/>
</div>
<p><a href="revdedup_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structCMEntry.html">CMEntry</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structSMEntry.html">SMEntry</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structBMEntry.html">BMEntry</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structIMEntry.html">IMEntry</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structSegment.html">Segment</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structBucket.html">Bucket</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structSegmentLog.html">SegmentLog</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structChunkLog.html">ChunkLog</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structBucketLog.html">BucketLog</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDirect.html">Direct</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structIndirect.html">Indirect</a></td></tr>
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a369266c24eacffb87046522897a570d5"></a><!-- doxytag: member="revdedup.h::_GNU_SOURCE" ref="a369266c24eacffb87046522897a570d5" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><b>_GNU_SOURCE</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="revdedup_8h.html#a7946414f08e64686a201abec654631e7">MAX_ENTRIES</a>(x)&#160;&#160;&#160;((256ULL &lt;&lt; 20) * x)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="revdedup_8h.html#ad0d7a852ffb0e673297ce479807b2e6d">INST_MAX</a>(x)&#160;&#160;&#160;(256 * x)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="revdedup_8h.html#a48cc0a91e8f54c62f3341c21c8cc74e8">DATA_DIR</a>&#160;&#160;&#160;&quot;data/&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="revdedup_8h.html#a5147a30bb976e44355fd0559f9d10abe">FP_SIZE</a>&#160;&#160;&#160;20</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="revdedup_8h.html#ad51ded0bbd705f02f73fc60c0b721ced">BLOCK_SIZE</a>&#160;&#160;&#160;4096ULL</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="revdedup_8h.html#a352964ca100791f7e6438323f55b8541">BUCKET_SIZE</a>&#160;&#160;&#160;16777216</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="revdedup_8h.html#a393599da8571b2d585fc5ccb97660f8a">MAX_PUNCH</a>(size)&#160;&#160;&#160;(0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="revdedup_8h.html#acda112e2dfd5df63a5b4fb4e31fdeedc">CHUNK_SHIFT</a>&#160;&#160;&#160;0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="revdedup_8h.html#a192a0808babf9d2180a845a9229cf306">DISABLE_COMPRESSION</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="revdedup_8h.html#a6ce22f85901d1950f88a4bd877de7f8e">AVG_CHUNK_SIZE</a>&#160;&#160;&#160;4096ULL</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="revdedup_8h.html#ac71f9eb01bae3d5815683e230288677d">AVG_SEG_BLOCKS</a>&#160;&#160;&#160;1024</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abf35d28195f0f301fe63d0ea867f4379"></a><!-- doxytag: member="revdedup.h::MIN_CHUNK_SIZE" ref="abf35d28195f0f301fe63d0ea867f4379" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MIN_CHUNK_SIZE</b>&#160;&#160;&#160;(<a class="el" href="revdedup_8h.html#a6ce22f85901d1950f88a4bd877de7f8e">AVG_CHUNK_SIZE</a> &gt;&gt; <a class="el" href="revdedup_8h.html#acda112e2dfd5df63a5b4fb4e31fdeedc">CHUNK_SHIFT</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a523eaf5b650f38c307a6aab7f957fa2b"></a><!-- doxytag: member="revdedup.h::MAX_CHUNK_SIZE" ref="a523eaf5b650f38c307a6aab7f957fa2b" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MAX_CHUNK_SIZE</b>&#160;&#160;&#160;(<a class="el" href="revdedup_8h.html#a6ce22f85901d1950f88a4bd877de7f8e">AVG_CHUNK_SIZE</a> &lt;&lt; <a class="el" href="revdedup_8h.html#acda112e2dfd5df63a5b4fb4e31fdeedc">CHUNK_SHIFT</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1e748e87eea436fa46786e989f70e2b1"></a><!-- doxytag: member="revdedup.h::ZERO_SIZE" ref="a1e748e87eea436fa46786e989f70e2b1" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><b>ZERO_SIZE</b>&#160;&#160;&#160;MAX_CHUNK_SIZE</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae4206650d7c5a54a8a260f8c302370c6"></a><!-- doxytag: member="revdedup.h::AVG_SEG_SIZE" ref="ae4206650d7c5a54a8a260f8c302370c6" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><b>AVG_SEG_SIZE</b>&#160;&#160;&#160;(<a class="el" href="revdedup_8h.html#ac71f9eb01bae3d5815683e230288677d">AVG_SEG_BLOCKS</a> * <a class="el" href="revdedup_8h.html#ad51ded0bbd705f02f73fc60c0b721ced">BLOCK_SIZE</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a29cc38a7deb73bf2e9d06941ea3a4d70"></a><!-- doxytag: member="revdedup.h::MIN_SEG_SIZE" ref="a29cc38a7deb73bf2e9d06941ea3a4d70" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MIN_SEG_SIZE</b>&#160;&#160;&#160;(AVG_SEG_SIZE &gt;&gt; <a class="el" href="revdedup_8h.html#acda112e2dfd5df63a5b4fb4e31fdeedc">CHUNK_SHIFT</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a75614c84b3ce637eb8611c5f513f54f5"></a><!-- doxytag: member="revdedup.h::MAX_SEG_SIZE" ref="a75614c84b3ce637eb8611c5f513f54f5" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MAX_SEG_SIZE</b>&#160;&#160;&#160;(AVG_SEG_SIZE &lt;&lt; <a class="el" href="revdedup_8h.html#acda112e2dfd5df63a5b4fb4e31fdeedc">CHUNK_SHIFT</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aff3d601bc1ec91145e57927a2548b9f3"></a><!-- doxytag: member="revdedup.h::MAX_SEG_CHUNKS" ref="aff3d601bc1ec91145e57927a2548b9f3" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MAX_SEG_CHUNKS</b>&#160;&#160;&#160;(MAX_SEG_SIZE / MIN_CHUNK_SIZE)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="revdedup_8h.html#a9ca444fac49736b7a8321329b3c9d819">CPS_CNT</a>&#160;&#160;&#160;4</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="revdedup_8h.html#a9d788dcaa12f87206eaa672c9a7f7069">DPS_CNT</a>&#160;&#160;&#160;2</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="revdedup_8h.html#a7c4a19f561ae530b98cd1cf1794c6988">REV_CNT</a>&#160;&#160;&#160;8</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="revdedup_8h.html#a2149a0ab9997948921ec54de761fb248">DISABLE_BLOOM</a>&#160;&#160;&#160;1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="revdedup_8h.html#a42dd36303dde0f08ff7c6301ad8d0018">ZERO_FP</a>&#160;&#160;&#160;&quot;\x1c\xea\xf7\x3d\xf4\x0e\x53\x1d\xf3\xbf\xb2\x6b\x4f\xb7\xcd\x95\xfb\x7b\xff\x1d&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="revdedup_8h.html#ad16e604238265a1a14f64b017057e042">UNIQ</a>&#160;&#160;&#160;0x80000000LU</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="revdedup_8h.html#abcad221f9859d223f329c7e48e549568">MMAP_FD</a>(fd, size)&#160;&#160;&#160;mmap(0, size, PROT_READ | PROT_WRITE, MAP_SHARED, fd, 0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="revdedup_8h.html#ae88db51e9309211e84e213f01e3d1466">MMAP_FD_RO</a>(fd, size)&#160;&#160;&#160;mmap(0, size, PROT_READ, MAP_SHARED, fd, 0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="revdedup_8h.html#a67ada09ed71ac151679fafac893d00e3">MMAP_MM</a>(size)&#160;&#160;&#160;mmap(0, size, PROT_READ | PROT_WRITE, MAP_SHARED | MAP_ANONYMOUS, -1, 0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="revdedup_8h.html#a0184864618a62cb7f5066e6350bce8c2">MMAP_FD_PV</a>(fd, size)&#160;&#160;&#160;mmap(0, size, PROT_READ | PROT_WRITE, MAP_PRIVATE, fd, 0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a217a0bd562b98ae8c2ffce44935351e1"></a><!-- doxytag: member="revdedup.h::likely" ref="a217a0bd562b98ae8c2ffce44935351e1" args="(x)" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><b>likely</b>(x)&#160;&#160;&#160;__builtin_expect (!!(x), 1)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac6c45889010c1bd68631771b64f18101"></a><!-- doxytag: member="revdedup.h::unlikely" ref="ac6c45889010c1bd68631771b64f18101" args="(x)" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><b>unlikely</b>(x)&#160;&#160;&#160;__builtin_expect (!!(x), 0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad6be46205bb6ded0678537be8b3a0e04"></a><!-- doxytag: member="revdedup.h::TIMERSTART" ref="ad6be46205bb6ded0678537be8b3a0e04" args="(x)" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TIMERSTART</b>(x)&#160;&#160;&#160;gettimeofday(&amp;x, NULL)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae8cf9db2a3a014d6ff327818eea92525"></a><!-- doxytag: member="revdedup.h::TIMERSTOP" ref="ae8cf9db2a3a014d6ff327818eea92525" args="(x)" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TIMERSTOP</b>(x)&#160;&#160;&#160;do { struct timeval a = x, b; gettimeofday(&amp;b, NULL); timersub(&amp;b, &amp;a, &amp;x); } while (0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="revdedup_8h.html#abbbcf3c42c997889127cc676754a6fea">HOST</a>&#160;&#160;&#160;&quot;localhost&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="revdedup_8h.html#a03d0601ed422aae845455c15990fcb6a">META_PORT</a>&#160;&#160;&#160;5402</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="revdedup_8h.html#ab0c169c959c5be67954c866776329563">DATA_PORT</a>&#160;&#160;&#160;5401</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="revdedup_8h.html#a92df38b61b193ac6bf60131babe08614">SEND_PORT</a>&#160;&#160;&#160;5400</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="revdedup_8h.html#a339fe9981788829de59cfc60b145e3fb">META_THREAD_CNT</a>&#160;&#160;&#160;1ULL</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="revdedup_8h.html#a61023ee613ac117cca9401fa7982c7ea">META_THREAD_MEM</a>&#160;&#160;&#160;(128ULL &lt;&lt; 20)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="revdedup_8h.html#a739fdb42e1bfde340a7db21cad17fbcb">DATA_THREAD_CNT</a>&#160;&#160;&#160;16ULL</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="revdedup_8h.html#a8f848581cf21ce5fc42de4c2e2e232b7">DATA_THREAD_MEM</a>&#160;&#160;&#160;(MAX_SEG_SIZE * 2)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="revdedup_8h.html#a6caca675d3381a387c505ac605d9506c">SEND_THREAD_CNT</a>&#160;&#160;&#160;4ULL</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="revdedup_8h.html#a18a25d700ea8607c7e8b9780a48c2a57">SEND_THREAD_MEM</a>&#160;&#160;&#160;(128ULL &lt;&lt; 20)</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Definitions for RevDedup. </p>
<dl class="author"><dt><b>Author:</b></dt><dd>Ng Chun Ho </dd></dl>
</div><hr/><h2>Define Documentation</h2>
<a class="anchor" id="a6ce22f85901d1950f88a4bd877de7f8e"></a><!-- doxytag: member="revdedup.h::AVG_CHUNK_SIZE" ref="a6ce22f85901d1950f88a4bd877de7f8e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="revdedup_8h.html#a6ce22f85901d1950f88a4bd877de7f8e">AVG_CHUNK_SIZE</a>&#160;&#160;&#160;4096ULL</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Average chunk size </p>

</div>
</div>
<a class="anchor" id="ac71f9eb01bae3d5815683e230288677d"></a><!-- doxytag: member="revdedup.h::AVG_SEG_BLOCKS" ref="ac71f9eb01bae3d5815683e230288677d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="revdedup_8h.html#ac71f9eb01bae3d5815683e230288677d">AVG_SEG_BLOCKS</a>&#160;&#160;&#160;1024</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="structSegment.html">Segment</a> size = AVG_SEG_BLOCKS * BLOCK_SIZE </p>

</div>
</div>
<a class="anchor" id="ad51ded0bbd705f02f73fc60c0b721ced"></a><!-- doxytag: member="revdedup.h::BLOCK_SIZE" ref="ad51ded0bbd705f02f73fc60c0b721ced" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="revdedup_8h.html#ad51ded0bbd705f02f73fc60c0b721ced">BLOCK_SIZE</a>&#160;&#160;&#160;4096ULL</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Block size, usually 4096, no need to change </p>

</div>
</div>
<a class="anchor" id="a352964ca100791f7e6438323f55b8541"></a><!-- doxytag: member="revdedup.h::BUCKET_SIZE" ref="a352964ca100791f7e6438323f55b8541" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="revdedup_8h.html#a352964ca100791f7e6438323f55b8541">BUCKET_SIZE</a>&#160;&#160;&#160;16777216</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="structBucket.html">Bucket</a> size. Change according to performance </p>

</div>
</div>
<a class="anchor" id="acda112e2dfd5df63a5b4fb4e31fdeedc"></a><!-- doxytag: member="revdedup.h::CHUNK_SHIFT" ref="acda112e2dfd5df63a5b4fb4e31fdeedc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="revdedup_8h.html#acda112e2dfd5df63a5b4fb4e31fdeedc">CHUNK_SHIFT</a>&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>0 to switch to fixed size chunking </p>

</div>
</div>
<a class="anchor" id="a9ca444fac49736b7a8321329b3c9d819"></a><!-- doxytag: member="revdedup.h::CPS_CNT" ref="a9ca444fac49736b7a8321329b3c9d819" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="revdedup_8h.html#a9ca444fac49736b7a8321329b3c9d819">CPS_CNT</a>&#160;&#160;&#160;4</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Compression thread count </p>

</div>
</div>
<a class="anchor" id="a48cc0a91e8f54c62f3341c21c8cc74e8"></a><!-- doxytag: member="revdedup.h::DATA_DIR" ref="a48cc0a91e8f54c62f3341c21c8cc74e8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="revdedup_8h.html#a48cc0a91e8f54c62f3341c21c8cc74e8">DATA_DIR</a>&#160;&#160;&#160;&quot;data/&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Data directory for revdedup. <a class="el" href="structSegment.html">Segment</a> contents are placed in DATA_DIR/bucket <a class="el" href="structSegment.html">Segment</a> pointers of images are placed in DATA_DIR/image Other logs - ilog (image log), slog (segment log), clog (chunk log), blog (bucket log) and index (fingerprint to ID) are placed directly under DATA_DIR </p>

</div>
</div>
<a class="anchor" id="ab0c169c959c5be67954c866776329563"></a><!-- doxytag: member="revdedup.h::DATA_PORT" ref="ab0c169c959c5be67954c866776329563" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="revdedup_8h.html#ab0c169c959c5be67954c866776329563">DATA_PORT</a>&#160;&#160;&#160;5401</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>port to send data in network mode </p>

</div>
</div>
<a class="anchor" id="a739fdb42e1bfde340a7db21cad17fbcb"></a><!-- doxytag: member="revdedup.h::DATA_THREAD_CNT" ref="a739fdb42e1bfde340a7db21cad17fbcb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="revdedup_8h.html#a739fdb42e1bfde340a7db21cad17fbcb">DATA_THREAD_CNT</a>&#160;&#160;&#160;16ULL</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>thread count for receiving data in network mode </p>

</div>
</div>
<a class="anchor" id="a8f848581cf21ce5fc42de4c2e2e232b7"></a><!-- doxytag: member="revdedup.h::DATA_THREAD_MEM" ref="a8f848581cf21ce5fc42de4c2e2e232b7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="revdedup_8h.html#a8f848581cf21ce5fc42de4c2e2e232b7">DATA_THREAD_MEM</a>&#160;&#160;&#160;(MAX_SEG_SIZE * 2)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>thread memory for receiving data in network mode </p>

</div>
</div>
<a class="anchor" id="a2149a0ab9997948921ec54de761fb248"></a><!-- doxytag: member="revdedup.h::DISABLE_BLOOM" ref="a2149a0ab9997948921ec54de761fb248" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="revdedup_8h.html#a2149a0ab9997948921ec54de761fb248">DISABLE_BLOOM</a>&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>1 to disable bloom filter in indexing, 0 otherwise </p>

</div>
</div>
<a class="anchor" id="a192a0808babf9d2180a845a9229cf306"></a><!-- doxytag: member="revdedup.h::DISABLE_COMPRESSION" ref="a192a0808babf9d2180a845a9229cf306" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="revdedup_8h.html#a192a0808babf9d2180a845a9229cf306">DISABLE_COMPRESSION</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Comment to enable compression </p>

</div>
</div>
<a class="anchor" id="a9d788dcaa12f87206eaa672c9a7f7069"></a><!-- doxytag: member="revdedup.h::DPS_CNT" ref="a9d788dcaa12f87206eaa672c9a7f7069" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="revdedup_8h.html#a9d788dcaa12f87206eaa672c9a7f7069">DPS_CNT</a>&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Decompression thread count </p>

</div>
</div>
<a class="anchor" id="a5147a30bb976e44355fd0559f9d10abe"></a><!-- doxytag: member="revdedup.h::FP_SIZE" ref="a5147a30bb976e44355fd0559f9d10abe" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="revdedup_8h.html#a5147a30bb976e44355fd0559f9d10abe">FP_SIZE</a>&#160;&#160;&#160;20</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Fingerprint size, SHA-1 takes 20 bytes </p>

</div>
</div>
<a class="anchor" id="abbbcf3c42c997889127cc676754a6fea"></a><!-- doxytag: member="revdedup.h::HOST" ref="abbbcf3c42c997889127cc676754a6fea" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="revdedup_8h.html#abbbcf3c42c997889127cc676754a6fea">HOST</a>&#160;&#160;&#160;&quot;localhost&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>host in network mode </p>

</div>
</div>
<a class="anchor" id="ad0d7a852ffb0e673297ce479807b2e6d"></a><!-- doxytag: member="revdedup.h::INST_MAX" ref="ad0d7a852ffb0e673297ce479807b2e6d" args="(x)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="revdedup_8h.html#ad0d7a852ffb0e673297ce479807b2e6d">INST_MAX</a></td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">x</td><td>)</td>
          <td>&#160;&#160;&#160;(256 * x)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Max number of images. Can set to larger values. </p>

</div>
</div>
<a class="anchor" id="a7946414f08e64686a201abec654631e7"></a><!-- doxytag: member="revdedup.h::MAX_ENTRIES" ref="a7946414f08e64686a201abec654631e7" args="(x)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="revdedup_8h.html#a7946414f08e64686a201abec654631e7">MAX_ENTRIES</a></td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">x</td><td>)</td>
          <td>&#160;&#160;&#160;((256ULL &lt;&lt; 20) * x)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Max number of entries in the log. Can set to a very large value since revdedup use ftruncate() to create space in the log file, and most file systems treats it as a sparse file </p>

</div>
</div>
<a class="anchor" id="a393599da8571b2d585fc5ccb97660f8a"></a><!-- doxytag: member="revdedup.h::MAX_PUNCH" ref="a393599da8571b2d585fc5ccb97660f8a" args="(size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="revdedup_8h.html#a393599da8571b2d585fc5ccb97660f8a">MAX_PUNCH</a></td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">size</td><td>)</td>
          <td>&#160;&#160;&#160;(0)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Determining the max. bytes that hole punching should be used instead of segment reconstruction in reverse deduplication. </p>

</div>
</div>
<a class="anchor" id="a03d0601ed422aae845455c15990fcb6a"></a><!-- doxytag: member="revdedup.h::META_PORT" ref="a03d0601ed422aae845455c15990fcb6a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="revdedup_8h.html#a03d0601ed422aae845455c15990fcb6a">META_PORT</a>&#160;&#160;&#160;5402</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>port to send metadata in network mode </p>

</div>
</div>
<a class="anchor" id="a339fe9981788829de59cfc60b145e3fb"></a><!-- doxytag: member="revdedup.h::META_THREAD_CNT" ref="a339fe9981788829de59cfc60b145e3fb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="revdedup_8h.html#a339fe9981788829de59cfc60b145e3fb">META_THREAD_CNT</a>&#160;&#160;&#160;1ULL</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>thread count for receiving metadata in network mode </p>

</div>
</div>
<a class="anchor" id="a61023ee613ac117cca9401fa7982c7ea"></a><!-- doxytag: member="revdedup.h::META_THREAD_MEM" ref="a61023ee613ac117cca9401fa7982c7ea" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="revdedup_8h.html#a61023ee613ac117cca9401fa7982c7ea">META_THREAD_MEM</a>&#160;&#160;&#160;(128ULL &lt;&lt; 20)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>thread memory for receiving metadata in network mode </p>

</div>
</div>
<a class="anchor" id="abcad221f9859d223f329c7e48e549568"></a><!-- doxytag: member="revdedup.h::MMAP_FD" ref="abcad221f9859d223f329c7e48e549568" args="(fd, size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="revdedup_8h.html#abcad221f9859d223f329c7e48e549568">MMAP_FD</a></td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">fd, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">size&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;mmap(0, size, PROT_READ | PROT_WRITE, MAP_SHARED, fd, 0)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>mmap a file </p>

</div>
</div>
<a class="anchor" id="a0184864618a62cb7f5066e6350bce8c2"></a><!-- doxytag: member="revdedup.h::MMAP_FD_PV" ref="a0184864618a62cb7f5066e6350bce8c2" args="(fd, size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="revdedup_8h.html#a0184864618a62cb7f5066e6350bce8c2">MMAP_FD_PV</a></td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">fd, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">size&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;mmap(0, size, PROT_READ | PROT_WRITE, MAP_PRIVATE, fd, 0)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>mmap a file which subsequent changes would not affect the data in the file </p>

</div>
</div>
<a class="anchor" id="ae88db51e9309211e84e213f01e3d1466"></a><!-- doxytag: member="revdedup.h::MMAP_FD_RO" ref="ae88db51e9309211e84e213f01e3d1466" args="(fd, size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="revdedup_8h.html#ae88db51e9309211e84e213f01e3d1466">MMAP_FD_RO</a></td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">fd, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">size&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;mmap(0, size, PROT_READ, MAP_SHARED, fd, 0)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>mmap a file in read-only mode </p>

</div>
</div>
<a class="anchor" id="a67ada09ed71ac151679fafac893d00e3"></a><!-- doxytag: member="revdedup.h::MMAP_MM" ref="a67ada09ed71ac151679fafac893d00e3" args="(size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="revdedup_8h.html#a67ada09ed71ac151679fafac893d00e3">MMAP_MM</a></td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">size</td><td>)</td>
          <td>&#160;&#160;&#160;mmap(0, size, PROT_READ | PROT_WRITE, MAP_SHARED | MAP_ANONYMOUS, -1, 0)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>allocate a piece of memory (instead of malloc) </p>

</div>
</div>
<a class="anchor" id="a7c4a19f561ae530b98cd1cf1794c6988"></a><!-- doxytag: member="revdedup.h::REV_CNT" ref="a7c4a19f561ae530b98cd1cf1794c6988" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="revdedup_8h.html#a7c4a19f561ae530b98cd1cf1794c6988">REV_CNT</a>&#160;&#160;&#160;8</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Reverse deduplication thread count </p>

</div>
</div>
<a class="anchor" id="a92df38b61b193ac6bf60131babe08614"></a><!-- doxytag: member="revdedup.h::SEND_PORT" ref="a92df38b61b193ac6bf60131babe08614" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="revdedup_8h.html#a92df38b61b193ac6bf60131babe08614">SEND_PORT</a>&#160;&#160;&#160;5400</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>port to retrieve images in network mode </p>

</div>
</div>
<a class="anchor" id="a6caca675d3381a387c505ac605d9506c"></a><!-- doxytag: member="revdedup.h::SEND_THREAD_CNT" ref="a6caca675d3381a387c505ac605d9506c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="revdedup_8h.html#a6caca675d3381a387c505ac605d9506c">SEND_THREAD_CNT</a>&#160;&#160;&#160;4ULL</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>thread count for sending images in network mode </p>

</div>
</div>
<a class="anchor" id="a18a25d700ea8607c7e8b9780a48c2a57"></a><!-- doxytag: member="revdedup.h::SEND_THREAD_MEM" ref="a18a25d700ea8607c7e8b9780a48c2a57" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="revdedup_8h.html#a18a25d700ea8607c7e8b9780a48c2a57">SEND_THREAD_MEM</a>&#160;&#160;&#160;(128ULL &lt;&lt; 20)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>thread memory for sending images in network mode </p>

</div>
</div>
<a class="anchor" id="ad16e604238265a1a14f64b017057e042"></a><!-- doxytag: member="revdedup.h::UNIQ" ref="ad16e604238265a1a14f64b017057e042" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="revdedup_8h.html#ad16e604238265a1a14f64b017057e042">UNIQ</a>&#160;&#160;&#160;0x80000000LU</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>flag to determine direct pointer in an indirect entry, don't change </p>

</div>
</div>
<a class="anchor" id="a42dd36303dde0f08ff7c6301ad8d0018"></a><!-- doxytag: member="revdedup.h::ZERO_FP" ref="a42dd36303dde0f08ff7c6301ad8d0018" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define <a class="el" href="revdedup_8h.html#a42dd36303dde0f08ff7c6301ad8d0018">ZERO_FP</a>&#160;&#160;&#160;&quot;\x1c\xea\xf7\x3d\xf4\x0e\x53\x1d\xf3\xbf\xb2\x6b\x4f\xb7\xcd\x95\xfb\x7b\xff\x1d&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>ZERO_FP determines the fingerprint of zero chunk RevDedup skips writing the chunk if it is found zero so that backup and restore can be faster To determine the fingerprint of a zero chunk of particular size, run: dd if=/dev/zero bs=&lt;size&gt; count=1 | sha1sum </p>

</div>
</div>
</div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Generated on Fri Oct 11 2013 19:00:23 for RevDedup by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
